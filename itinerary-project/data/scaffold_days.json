[
  {
    "name": "SD-01",
    "body": {
      "destinations": [
        {
          "id": "d1",
          "name": "City A",
          "dates": {
            "start": "2025-10-01",
            "end": "2025-10-03"
          },
          "places": []
        }
      ],
      "dates": {
        "start": "2025-10-01",
        "end": "2025-10-03"
      }
    },
    "expectedStatus": 200,
    "expected": {
      "days": [
        {
          "date": "2025-10-01",
          "destinationId": "d1",
          "blocks": []
        },
        {
          "date": "2025-10-02",
          "destinationId": "d1",
          "blocks": []
        },
        {
          "date": "2025-10-03",
          "destinationId": "d1",
          "blocks": []
        }
      ]
    }
  },
  {
    "name": "SD-02",
    "body": {
      "destinations": [
        {
          "id": "d1",
          "name": "City A",
          "dates": {
            "start": "2025-09-30",
            "end": "2025-10-02"
          },
          "places": []
        }
      ],
      "dates": {
        "start": "2025-10-01",
        "end": "2025-10-03"
      }
    },
    "expectedStatus": 400,
    "expected": {
      "errors": [
        {
          "code": "city_outside_trip",
          "field": "destinations[0].dates"
        }
      ]
    }
  },
  {
    "name": "SD-03",
    "body": {
      "destinations": [
        {
          "id": "d1",
          "name": "City A",
          "dates": {
            "start": "2025-10-02",
            "end": "2025-10-04"
          },
          "places": []
        }
      ],
      "dates": {
        "start": "2025-10-01",
        "end": "2025-10-03"
      }
    },
    "expectedStatus": 400,
    "expected": {
      "errors": [
        {
          "code": "city_outside_trip",
          "field": "destinations[0].dates"
        }
      ]
    }
  },
  {
    "name": "SD-04",
    "body": {
      "destinations": [
        {
          "id": "d1",
          "name": "City A",
          "dates": {
            "start": "2025-10-01",
            "end": "2025-10-02"
          },
          "places": []
        },
        {
          "id": "d2",
          "name": "City B",
          "dates": {
            "start": "2025-10-03",
            "end": "2025-10-04"
          },
          "places": []
        }
      ],
      "dates": {
        "start": "2025-10-01",
        "end": "2025-10-04"
      }
    },
    "expectedStatus": 200,
    "expected": {
      "days": [
        {
          "date": "2025-10-01",
          "destinationId": "d1",
          "blocks": []
        },
        {
          "date": "2025-10-02",
          "destinationId": "d1",
          "blocks": []
        },
        {
          "date": "2025-10-03",
          "destinationId": "d2",
          "blocks": []
        },
        {
          "date": "2025-10-04",
          "destinationId": "d2",
          "blocks": []
        }
      ]
    }
  },
  {
    "name": "SD-05",
    "body": {
      "destinations": [
        {
          "id": "d1",
          "name": "City A",
          "dates": {
            "start": "2025-10-01",
            "end": "2025-10-03"
          },
          "places": []
        },
        {
          "id": "d2",
          "name": "City B",
          "dates": {
            "start": "2025-10-03",
            "end": "2025-10-04"
          },
          "places": []
        }
      ],
      "dates": {
        "start": "2025-10-01",
        "end": "2025-10-04"
      }
    },
    "expectedStatus": 400,
    "expected": {
      "errors": [
        {
          "code": "overlap_between_cities",
          "field": "destinations",
          "at": {
            "leftIndex": 0,
            "rightIndex": 1
          }
        }
      ]
    }
  },
  {
    "name": "SD-06",
    "body": {
      "destinations": [
        {
          "id": "d1",
          "name": "City A",
          "dates": {
            "start": "2025-10-01",
            "end": "2025-10-02"
          },
          "places": []
        },
        {
          "id": "d2",
          "name": "City B",
          "dates": {
            "start": "2025-10-04",
            "end": "2025-10-05"
          },
          "places": []
        }
      ],
      "dates": {
        "start": "2025-10-01",
        "end": "2025-10-05"
      }
    },
    "expectedStatus": 400,
    "expected": {
      "errors": [
        {
          "code": "gap_between_cities",
          "field": "destinations",
          "at": {
            "leftIndex": 0,
            "rightIndex": 1
          }
        }
      ]
    }
  },
  {
    "name": "SD-07",
    "body": {
      "destinations": [
        {
          "id": "d2",
          "name": "City B",
          "dates": {
            "start": "2025-10-03",
            "end": "2025-10-04"
          },
          "places": []
        },
        {
          "id": "d1",
          "name": "City A",
          "dates": {
            "start": "2025-10-01",
            "end": "2025-10-02"
          },
          "places": []
        }
      ],
      "dates": {
        "start": "2025-10-01",
        "end": "2025-10-04"
      }
    },
    "expectedStatus": 200,
    "expected": {
      "days": [
        {
          "date": "2025-10-01",
          "destinationId": "d1",
          "blocks": []
        },
        {
          "date": "2025-10-02",
          "destinationId": "d1",
          "blocks": []
        },
        {
          "date": "2025-10-03",
          "destinationId": "d2",
          "blocks": []
        },
        {
          "date": "2025-10-04",
          "destinationId": "d2",
          "blocks": []
        }
      ]
    }
  },
  {
    "name": "SD-08",
    "body": {
      "destinations": [
        {
          "id": "d1",
          "name": "City A",
          "dates": {
            "start": "2025-10-01",
            "end": "2025-10-02"
          },
          "places": []
        },
        {
          "id": "d1",
          "name": "City A",
          "dates": {
            "start": "2025-10-03",
            "end": "2025-10-04"
          },
          "places": []
        }
      ],
      "dates": {
        "start": "2025-10-01",
        "end": "2025-10-04"
      }
    },
    "expectedStatus": 400,
    "expected": {
      "errors": [
        {
          "code": "duplicate_destination_id",
          "field": "destinations[1].id"
        }
      ]
    }
  },
  {
    "name": "SD-09",
    "body": {
      "destinations": [
        {
          "id": "d1",
          "name": "City A",
          "dates": {
            "start": "2025-10-01",
            "end": "2025-10-01"
          },
          "places": []
        }
      ],
      "dates": {
        "start": "2025-10-01",
        "end": "2025-10-01"
      }
    },
    "expectedStatus": 200,
    "expected": {
      "days": [
        {
          "date": "2025-10-01",
          "destinationId": "d1",
          "blocks": []
        }
      ]
    }
  },
  {
    "name": "SD-10",
    "body": {
      "destinations": [
        {
          "id": "d1",
          "name": "City A",
          "dates": {
            "start": "2025-10-01",
            "end": "2025-10-03"
          },
          "places": []
        },
        {
          "id": "d2",
          "name": "City B",
          "dates": {
            "start": "2025-10-02",
            "end": "2025-10-04"
          },
          "places": []
        }
      ],
      "dates": {
        "start": "2025-10-01",
        "end": "2025-10-04"
      }
    },
    "expectedStatus": 400,
    "expected": {
      "errors": [
        {
          "code": "overlap_between_cities",
          "field": "destinations",
          "at": {
            "leftIndex": 0,
            "rightIndex": 1
          }
        }
      ]
    }
  },
  {
    "name": "SD-11",
    "body": {
      "destinations": [
        {
          "id": "d1",
          "name": "City A",
          "dates": {
            "start": "2025-10-01",
            "end": "2025-10-02"
          },
          "places": []
        },
        {
          "id": "d2",
          "name": "City B",
          "dates": {
            "start": "2025-10-05",
            "end": "2025-10-06"
          },
          "places": []
        }
      ],
      "dates": {
        "start": "2025-10-01",
        "end": "2025-10-06"
      }
    },
    "expectedStatus": 400,
    "expected": {
      "errors": [
        {
          "code": "gap_between_cities",
          "field": "destinations",
          "at": {
            "leftIndex": 0,
            "rightIndex": 1
          }
        }
      ]
    }
  }
]
